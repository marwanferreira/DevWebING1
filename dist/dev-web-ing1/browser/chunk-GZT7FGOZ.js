import{a as I}from"./chunk-B2ROMJ5P.js";import{a as T,b as W,e as N,l as U}from"./chunk-PI5EMYVM.js";import"./chunk-NNRU5QZJ.js";import{Ba as r,Cb as M,Db as V,Fa as S,Fb as D,Ja as b,Na as C,Ta as f,Va as i,Wa as e,Xa as g,Ya as y,Za as h,_a as d,c as v,cb as n,db as E,ea as p,eb as l,fa as c,gb as x,hb as _,ib as w,za as P}from"./chunk-6CM4DDM5.js";function k(a,u){if(a&1){let t=y();i(0,"div",4)(1,"div",5)(2,"h5",6),n(3,"Partie publique"),e(),g(4,"img",7),i(5,"p")(6,"strong"),n(7,"Pseudonyme :"),e(),n(8),e(),i(9,"p")(10,"strong"),n(11,"Sexe :"),e(),n(12),e(),i(13,"p")(14,"strong"),n(15,"Date de naissance :"),e(),n(16),e(),i(17,"p")(18,"strong"),n(19,"Type de membre :"),e(),n(20),e(),g(21,"hr"),i(22,"h5",6),n(23,"Partie priv\xE9e"),e(),i(24,"div",8)(25,"label"),n(26,"Nom"),e(),i(27,"input",9),w("ngModelChange",function(o){p(t);let s=d();return _(s.profile.name,o)||(s.profile.name=o),c(o)}),e()(),i(28,"div",8)(29,"label"),n(30,"Pr\xE9nom"),e(),i(31,"input",9),w("ngModelChange",function(o){p(t);let s=d();return _(s.profile.surname,o)||(s.profile.surname=o),c(o)}),e()(),i(32,"button",10),h("click",function(){p(t);let o=d();return c(o.updatePrivateInfo())}),n(33,"\u{1F4BE} Enregistrer"),e(),g(34,"hr"),i(35,"div",8)(36,"label"),n(37,"Changer le mot de passe"),e(),i(38,"input",11),w("ngModelChange",function(o){p(t);let s=d();return _(s.newPassword,o)||(s.newPassword=o),c(o)}),e()(),i(39,"button",12),h("click",function(){p(t);let o=d();return c(o.changePassword())}),n(40,"\u{1F510} Mettre \xE0 jour"),e()()()}if(a&2){let t=d();r(4),f("src",t.profile.profilePhoto,P),r(4),l(" ",t.profile.pseudonym,""),r(4),l(" ",t.profile.gender,""),r(4),l(" ",t.profile.birthdate,""),r(4),l(" ",t.profile.memberType,""),r(7),x("ngModel",t.profile.name),r(4),x("ngModel",t.profile.surname),r(7),x("ngModel",t.newPassword)}}function B(a,u){if(a&1&&(i(0,"div",13)(1,"div",14),g(2,"img",15),i(3,"div",5)(4,"p",16)(5,"strong"),n(6),e()(),i(7,"p",17),n(8),e(),i(9,"p",17),n(10),e(),i(11,"p",17),n(12),e()()()()),a&2){let t=u.$implicit;r(2),f("src",t.profilePhoto,P),r(4),E(t.pseudonym),r(2),l("Sexe : ",t.gender,""),r(2),l("Naissance : ",t.birthdate,""),r(2),l("R\xF4le : ",t.memberType,"")}}var F=class a{constructor(u){this.userService=u}profile=null;newPassword="";publicProfiles=[];ngOnInit(){return v(this,null,function*(){this.profile=yield this.userService.getCurrentProfile(),this.publicProfiles=yield this.userService.getPublicProfiles()})}updatePrivateInfo(){return v(this,null,function*(){this.profile&&(yield this.userService.updatePrivateInfo({name:this.profile.name,surname:this.profile.surname}),alert("Informations mises \xE0 jour !"))})}changePassword(){return v(this,null,function*(){this.newPassword.trim()&&(yield this.userService.updatePassword(this.newPassword.trim()),this.newPassword="",alert("Mot de passe mis \xE0 jour !"))})}static \u0275fac=function(t){return new(t||a)(S(I))};static \u0275cmp=b({type:a,selectors:[["app-visualisation"]],decls:8,vars:2,consts:[[1,"container","mt-4"],["class","card mb-4",4,"ngIf"],[1,"row"],["class","col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"card","mb-4"],[1,"card-body"],[1,"card-title"],["width","100",1,"rounded","mb-2",3,"src"],[1,"mb-3"],[1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-success","btn-sm",3,"click"],["type","password",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"col-md-4","mb-3"],[1,"card"],[1,"card-img-top",3,"src"],[1,"card-text"],[1,"mb-0"]],template:function(t,m){t&1&&(i(0,"div",0)(1,"h2"),n(2,"\u{1F464} Mon Profil"),e(),C(3,k,41,8,"div",1),i(4,"h3"),n(5,"\u{1F4CB} Autres utilisateurs confirm\xE9s"),e(),i(6,"div",2),C(7,B,13,5,"div",3),e()()),t&2&&(r(3),f("ngIf",m.profile),r(4),f("ngForOf",m.publicProfiles))},dependencies:[D,M,V,U,T,W,N],styles:["h2[_ngcontent-%COMP%]{color:#2e86de}"]})};export{F as VisualisationComponent};
